@page "/Songs"
@using MLocker.WebApp.Services
@using MLocker.Core.Models
@using MLocker.Core.Services
@inject IMusicService MusicService
@inject IJSRuntime JsRuntime
@inject IFileParsingService FileParsingService
@inject IPlayerService PlayerService

<SongList SongDictionary="_songList" WillClearQueueOnPlay="true" WillQueueListOnPlay="false" ShowSearch="true" />

@code {
	Dictionary<int, Song> _songList;

	protected override async Task OnInitializedAsync()
	{
		var songs = await MusicService.GetAllSongs();
		_songList = PlayerService.GetIndexedList(songs);
	}
}